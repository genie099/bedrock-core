{
  "paths": [
    {
      "method": "POST",
      "path": "/register",
      "requestBody": [
        {
          "name": "email",
          "description": "Unique e-mail address of the new user",
          "required": true,
          "schema": {
            "type": "string",
            "format": "email"
          }
        },
        {
          "name": "name",
          "description": "Full name of the person signing up",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "password",
          "description": "Password that's at least six characters",
          "required": true,
          "schema": {
            "type": "string",
            "minLength": 6
          }
        }
      ],
      "responseBody": [
        {
          "name": "data.token",
          "description": "JWT token that can be used to authenticate user",
          "schema": {
            "type": "string"
          }
        }
      ],
      "examples": [
        {
          "name": "A new signup by John Doe",
          "requestBody": {
            "email": "john.doe@gmail.com",
            "name": "John Doe",
            "password": "AN$.37127"
          },
          "responseBody": {
            "data": {
              "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZTZhOWMwMDBmYzY3NjQ0N2RjOTkzNmEiLCJ0eXBlIjoidXNlciIsImtpZCI6InVzZXIiLCJpYXQiOjE1ODk1NjgyODQsImV4cCI6MTU5MjE2MDI4NH0.I0DhLK9mBHCy8sJglzyLHYQHFfr34UYyCFyTaEgFFG"
            }
          }
        }
      ]
    },
    {
      "method": "POST",
      "path": "/logout"
    },
    {
      "method": "POST",
      "path": "/login",
      "requestBody": [
        {
          "name": "email",
          "description": "E-mail address of the user trying to log in",
          "required": true,
          "schema": {
            "type": "string",
            "format": "email"
          }
        },
        {
          "name": "password",
          "description": "Password associated with the e-mail address",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "responseBody": [
        {
          "name": "data.token",
          "description": "JWT token that can be used to authenticate user",
          "schema": {
            "type": "string"
          }
        }
      ],
      "examples": [
        {
          "name": "A new login from John Doe",
          "requestBody": {
            "email": "john.doe@gmail.com",
            "password": "AN$.37127"
          },
          "responseBody": {
            "data": {
              "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZTZhOWMwMDBmYzY3NjQ0N2RjOTkzNmEiLCJ0eXBlIjoidXNlciIsImtpZCI6InVzZXIiLCJpYXQiOjE1ODk1NjgyODQsImV4cCI6MTU5MjE2MDI4NH0.I0DhLK9mBHCy8sJglzyLHYQHFfr34UYyCFyTaEgFFG"
            }
          }
        },
        {
          "name": "A new login from John Doe with mfa enabled",
          "requestBody": {
            "email": "john.doe@gmail.com",
            "password": "AN$.37127"
          },
          "responseBody": {
            "data": {
              "mfaToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZTZhOWMwMDBmYzY3NjQ0N2RjOTkzNmEiLCJ0eXBlIjoidXNlciIsImtpZCI6InVzZXIiLCJpYXQiOjE1ODk1NjgyODQsImV4cCI6MTU5MjE2MDI4NH0.I0DhLK9mBHCy8sJglzyLHYQHFfr34UYyCFyTaEgFFG",
              "mfaRequired": true,
              "mfaMethod": "sms",
              "mfaPhoneNumber": "1234"
            }
          }
        }
      ]
    },
    {
      "method": "POST",
      "path": "/accept-invite",
      "requestBody": [
        {
          "name": "name",
          "description": "Full name of new user",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "password",
          "description": "New password for user",
          "required": true,
          "schema": {
            "type": "string",
            "minLength": 6
          }
        }
      ],
      "responseBody": [
        {
          "name": "data.token",
          "description": "JWT token that can be used to authenticate user",
          "schema": {
            "type": "string"
          }
        }
      ],
      "examples": []
    },
    {
      "method": "POST",
      "path": "/request-password",
      "requestBody": [
        {
          "name": "email",
          "description": "E-mail address to email token and link to",
          "required": true,
          "schema": {
            "type": "string",
            "format": "email"
          }
        }
      ],
      "responseBody": [],
      "examples": []
    },
    {
      "method": "POST",
      "path": "/set-password",
      "requestBody": [
        {
          "name": "token",
          "description": "Temporary token that was send privately through the user",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "password",
          "description": "New password to set on user object",
          "required": true,
          "schema": {
            "type": "string",
            "minLength": 6
          }
        }
      ],
      "responseBody": [
        {
          "name": "data.token",
          "description": "JWT token that can be used to authenticate user",
          "schema": {
            "type": "string"
          }
        }
      ],
      "examples": []
    },
    {
      "method": "POST",
      "path": "/mfa/send-code",
      "requestBody": [
        {
          "name": "token",
          "description": "Mfa Token provided by the login endpoint",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "examples": []
    },
    {
      "method": "POST",
      "path": "/mfa/verify",
      "requestBody": [
        {
          "name": "token",
          "description": "Mfa Token provided by the login endpoint",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "code",
          "description": "Verification code either provided by authenticator app or sms",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "examples": [
        {
          "requestBody": {
            "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZTZhOWMwMDBmYzY3NjQ0N2RjOTkzNmEiLCJ0eXBlIjoidXNlciIsImtpZCI6InVzZXIiLCJpYXQiOjE1ODk1NjgyODQsImV4cCI6MTU5MjE2MDI4NH0.I0DhLK9mBHCy8sJglzyLHYQHFfr34UYyCFyTaEgFFG",
            "code": "123456"
          },
          "responseBody": {
            "data": {
              "data": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2MTY5NGI5Y2RhZjZkMjYzNzFiZjY3OTUiLCJqdGkiOiIzZTM1M2I1M2YxNDQ3YjI3MmE3YjJiYjE1YTM1ZjA3YyIsInR5cGUiOiJ1c2VyIiwia2lkIjoidXNlciIsImlhdCI6MTYzNDI5NzU4NywiZXhwIjoxNjM2ODg5NTg3fQ.KJuFWe-l4qAux7Zw43kGDQd1uyTeTT2UZuRvw92MpWE"
            }
          }
        }
      ]
    },
    {
      "method": "DELETE",
      "path": "/mfa/disable",
      "examples": []
    },
    {
      "method": "POST",
      "path": "/mfa/setup",
      "requestBody": [
        {
          "name": "method",
          "description": "Method `otp` (One-Time Password) or `sms`",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "phoneNumber",
          "description": "PhoneNumber required for method=sms",
          "schema": {
            "type": "string"
          }
        }
      ],
      "examples": [{
        "name": "Setup for otp",
        "requestBody": {
          "method": "mfa"
        },
        "responseBody": {
          "data": {
            "secret": "SR5OHSKVW2A746CLE5DYQ4N56BBED3UW",
            "uri": "otpauth://totp/bedrock%3aadmin%40bedrock.foundation?secret=SR5OHSKVW2A746CLE5DYQ4N56BBED3UW&issuer=bedrock"
          }
        }
      }]
    },
    {
      "method": "POST",
      "path": "/mfa/generate-backup-codes",
      "examples": [{
        "responseBody": {
          "data": ["8E335-34039","B651A-8128A","35DC9-4FACF","B71BE-51316","63F7F-12D4E","5FBDD-947E6","3E7D3-D0F08","C5A5E-27FF0","4457C-025DF","02B28-6884E","A3A99-70B69","5D4D4-DCCAC","E507D-0D59B","0DFA2-384B3","F68CE-8C2F6","B2BB1-9443F"]
        }
      }]
    },
    {
      "method": "POST",
      "path": "/mfa/check-code",
      "requestBody": [
        {
          "name": "method",
          "description": "Method `otp` (One-Time Password) or `sms`",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "code",
          "description": "The Code provided by the authenticator or Sms",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "secret",
          "description": "The secret used to generate the code",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "examples": []
    },
    {
      "method": "POST",
      "path": "/mfa/enable",
      "requestBody": [
        {
          "name": "method",
          "description": "Method `otp` (one-time password) or `sms`",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "phoneNumber",
          "description": "PhoneNumber required for method=sms",
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "backupCodes",
          "description": "Backup codes provided via POST /auth/mfa/generate-backup-codes",
          "required": true,
          "schema": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }

        },
        {
          "name": "secret",
          "description": "The secret used to generate the code",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "examples": []
    }
  ]
}
